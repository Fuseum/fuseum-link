import{j as r,r as s,c as a}from"./chunk-4db15592.js";function u(){const e=async()=>{chrome.runtime.sendMessage({action:"openQR"})};return r.jsx("button",{style:{borderRadius:"8px",width:"100%",marginTop:"16px",height:"32px",display:"flex",alignItems:"center",justifyContent:"center",lineHeight:"19px",fontSize:"14px",fontWeight:"400",background:"#67B6FF",borderWidth:"0px",color:"#140E24"},onClick:e,children:"Checkout with LINK"})}function d(){s.useEffect(()=>{let t=document.createElement("div");switch(document.location.hostname){case"www.amazon.com":{e(t);break}}return()=>{t&&t.remove()}},[]);const e=t=>{const o=setInterval(()=>{var i;const n=document.getElementById("submitOrderButtonId");n&&(clearInterval(o),(i=n==null?void 0:n.parentNode)==null||i.insertBefore(t,n.nextSibling),a(t).render(r.jsx(u,{})))},1e3)};return null}const c=document.createElement("div");c.id="content";document.body.append(c);a(c).render(r.jsx(d,{}));console.info("contentScript is running");const l=(e,t)=>{var o=document.getElementById("spc-gcpromoinput");o?o.value=e.giftCode:console.log("No input field found");var n=document.querySelector('input.a-button-input[type="submit"][aria-labelledby="gcApplyButtonId-announce"]');n?n.click():console.log("No input tag found"),t({result:"applySuccess"})};chrome.runtime.onMessage.addListener((e,t,o)=>{switch(console.log("Message received in content script:",e),e.action){case"applyGiftCard":console.log("Apply Gift Card from Content Script"),l(e,o);break;case"hello":console.log("Hello from Content Script"),l(e,o)}return!0});
